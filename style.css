:root{
    --bg:#ffffff;
    --text:#000000;

    --card:#F6F7F9;
    --border:#E3E6EB;

    --btn-dark:#1E1E1E;
    --btn-dark-text:#F5F5F5;

    --good-green:#67FF71;
    --bad-red:#ff3b3b;

    --shadow-soft: 0 10px 30px rgba(0,0,0,0.08);

    --r-12:12px;
    --r-16:16px;
    --r-20:20px;
    --r-pill:9999px;

    --font:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
    margin:0;
    font-family:var(--font);
    background:
            radial-gradient(1200px 500px at 30% -10%, rgba(103,255,113,0.10), transparent 60%),
            radial-gradient(900px 500px at 90% 0%, rgba(41,124,201,0.10), transparent 55%),
            var(--bg);
    color:var(--text);
}

/* NAVBAR */
.navbar{
    position:sticky;
    top:0;
    z-index:10;
    background:rgba(255,255,255,0.85);
    backdrop-filter: blur(10px);
    border-bottom:1px solid var(--border);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:14px;
    padding:12px 16px;
}

.brand{
    display:flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    color:var(--text);
    font-weight:800;
}

.brand__dot{
    width:12px;
    height:12px;
    border-radius:9999px;
    background: linear-gradient(135deg, #58C5F4, #297CC9);
    box-shadow: 0 8px 18px rgba(41,124,201,0.25);
}

.brand__text{
    font-size:14px;
    letter-spacing:0.2px;
}

.nav{
    display:flex;
    align-items:center;
    gap:10px;
    flex-wrap:wrap;
    justify-content:flex-end;
}

.nav__link{
    text-decoration:none;
    color:var(--text);
    font-weight:700;
    font-size:14px;
    padding:10px 12px;
    border-radius:12px;
    border:1px solid transparent;
}

.nav__link:hover{
    background:rgba(0,0,0,0.04);
    border-color:rgba(0,0,0,0.06);
}

.nav__link--pill{
    background:#111;
    color:#fff;
    border-color:#111;
}

/* APP */
.app{
    min-height:calc(100vh - 56px);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px 16px 40px;
}
.router{ width:min(1100px, 100%); }

.screen{
    width:100%;
    display:none;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    gap:22px;
    padding:18px 10px 30px;
}
.screen.active{ display:flex; }

.title{
    margin:0;
    font-size:44px;
    font-weight:900;
    text-align:center;
    line-height:1.15;
    letter-spacing:-0.5px;
}

.hero{ text-align:center; margin-top:10px; }

.subtitle{
    margin:10px 0 0 0;
    font-size:15px;
    color:#333;
    opacity:0.85;
}

/* BUTTONS */
.btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    text-decoration:none;
    border:1px solid #2C2C2C;
    color:var(--text);
    background:transparent;
    padding:12px 16px;
    line-height:1;
    font-size:16px;
    border-radius:var(--r-12);
    min-width:191px;
    cursor:pointer;
    transition: transform 0.05s ease, box-shadow 0.15s ease, background 0.15s ease;
}
.btn:hover{
    box-shadow: 0 10px 26px rgba(0,0,0,0.10);
    transform: translateY(-1px);
}
.btn:active{ transform: translateY(0px); }
.btn:disabled{ opacity:0.6; cursor:not-allowed; box-shadow:none; transform:none; }

.btn--pill{
    border-radius:var(--r-pill);
    height:78px;
    width:100%;
    font-weight:900;
    font-size:18px;
}
.btn--rect{ height:56px; width:100%; }
.btn--primary{ background:#000; color:var(--btn-dark-text); border-color:#000; }
.btn--dark{ background:var(--btn-dark); color:var(--btn-dark-text); border-color:var(--btn-dark); }

.home-actions{
    margin-top:34px;
    display:flex;
    flex-direction:column;
    gap:14px;
    align-items:center;
    width:min(520px, 100%);
}

/* UPLOAD BUTTON (more fitting) */
.btn--upload{
    height:56px;
    min-width:180px;
    border-radius:14px;
    border:1px solid rgba(0,0,0,0.10);
    background:rgba(0,0,0,0.04);
    color:#111;
    font-weight:900;
    padding:12px 14px;
}
.btn--upload:hover{
    background:rgba(0,0,0,0.06);
    border-color:rgba(0,0,0,0.14);
}

.btn__icon{
    display:inline-flex;
    width:28px;
    height:28px;
    align-items:center;
    justify-content:center;
    border-radius:9999px;
    background:rgba(0,0,0,0.06);
    font-weight:900;
}

/* LOADING */
.loading{
    width:min(720px, 100%);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:20px;
    margin-top:24px;
    padding:26px;
    background:rgba(255,255,255,0.75);
    border:1px solid var(--border);
    border-radius: var(--r-16);
    box-shadow: var(--shadow-soft);
}
.spinner{
    width:210px;
    height:210px;
    border-radius:50%;
    border:14px solid rgba(0,0,0,0.10);
    border-top-color:#000;
    animation:spin 1s linear infinite;
}
@keyframes spin{ to{ transform:rotate(360deg); } }
.loading__text{ margin:0; font-size:15px; text-align:center; }
.loading__actions{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; width:100%; }

/* RESULTS */
.score-card{
    width:min(980px, 100%);
    display:flex;
    gap:14px;
    justify-content:space-between;
    align-items:stretch;
    background:rgba(255,255,255,0.80);
    border:1px solid var(--border);
    border-radius: var(--r-16);
    box-shadow: var(--shadow-soft);
    padding:16px;
}
.score-card__left{ display:flex; flex-direction:column; gap:8px; }
.score-card__label{ font-size:13px; font-weight:800; opacity:0.75; }
.score-card__value{ font-size:46px; font-weight:950; line-height:1.05; }
.score-card__value.is-excellent{ color:var(--good-green); }
.score-card__value.is-good{ color:#000; }
.score-card__value.is-bad{ color:var(--bad-red); }

.score-card__right{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    justify-content:space-between;
    gap:10px;
    text-align:right;
}
.score-chip{
    padding:10px 14px;
    border-radius:9999px;
    font-weight:950;
    font-size:14px;
    border:1px solid var(--border);
    background: rgba(0,0,0,0.03);
}
.score-chip.is-excellent{ background: rgba(103,255,113,0.16); border-color: rgba(103,255,113,0.35); color:#0b5a12; }
.score-chip.is-good{ background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.10); color:#111; }
.score-chip.is-bad{ background: rgba(255,59,59,0.14); border-color: rgba(255,59,59,0.35); color:#7a0b0b; }

.score-note{ font-size:12px; opacity:0.70; max-width:320px; }

.metrics-grid{
    width:min(980px, 100%);
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap:14px;
    margin-top:10px;
}
.metric{
    background:rgba(255,255,255,0.72);
    border:1px solid var(--border);
    border-radius: var(--r-16);
    box-shadow: var(--shadow-soft);
    padding:14px 12px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:6px;
}
.metric__name{ font-size:12px; font-weight:900; opacity:0.75; }
.metric__value{ font-size:38px; font-weight:950; line-height:1; letter-spacing:-0.4px; }
.metric__unit{ font-size:12px; font-weight:900; opacity:0.65; }

.results-charts{
    width:min(980px, 100%);
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:14px;
    margin-top:6px;
}

/* HISTORY */
.history{
    width:min(980px, 100%);
    display:flex;
    flex-direction:column;
    gap:14px;
    margin-top:8px;
}
.history-item{
    background:rgba(255,255,255,0.72);
    border:1px solid var(--border);
    border-radius:var(--r-16);
    padding:14px;
    box-shadow: var(--shadow-soft);
}
.history-item__summary{
    list-style:none;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    cursor:pointer;
    font-size:14px;
    font-weight:900;
}
.history-item__summary::-webkit-details-marker{ display:none; }
.history-item__details{ margin-top:12px; font-size:14px; line-height:1.4; }

.history-item__top{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    margin-bottom:10px;
    flex-wrap:wrap;
}
.history-item__badge{
    padding:8px 12px;
    border-radius:9999px;
    font-weight:950;
    font-size:12px;
    border:1px solid var(--border);
    background: rgba(0,0,0,0.03);
}
.history-item__badge.is-excellent{ background: rgba(103,255,113,0.16); border-color: rgba(103,255,113,0.35); color:#0b5a12; }
.history-item__badge.is-good{ background: rgba(0,0,0,0.04); border-color: rgba(0,0,0,0.10); color:#111; }
.history-item__badge.is-bad{ background: rgba(255,59,59,0.14); border-color: rgba(255,59,59,0.35); color:#7a0b0b; }

.history-item__mini{ font-size:12px; font-weight:800; opacity:0.70; }
.history-item__text{ margin-bottom:12px; font-weight:700; opacity:0.90; }

.chev{ font-weight:900; }

.history-charts{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:12px;
}

.chart{
    border:1px solid var(--border);
    background:rgba(0,0,0,0.02);
    border-radius:14px;
    padding:12px;
}
.chart__label{
    font-size:12px;
    font-weight:900;
    margin-bottom:10px;
    opacity:0.80;
}
.chart__bar{
    height:14px;
    border-radius:9999px;
    overflow:hidden;
    background:rgba(0,0,0,0.08);
}
.chart__bar span{
    display:block;
    height:100%;
    width:0%;
    border-radius:9999px;
}
.fill--good{ background: linear-gradient(90deg, rgba(103,255,113,0.75), rgba(103,255,113,1)); }
.fill--bad{ background: linear-gradient(90deg, rgba(255,59,59,0.65), rgba(255,59,59,1)); }

.chart__meta{
    margin-top:8px;
    font-size:12px;
    font-weight:900;
    opacity:0.75;
}

/* ADVANCED */
.advanced{
    width:min(980px, 100%);
    display:flex;
    flex-direction:column;
    gap:18px;
    margin-top:6px;
    background:rgba(255,255,255,0.70);
    border:1px solid var(--border);
    border-radius: var(--r-16);
    padding:16px;
    box-shadow: var(--shadow-soft);
}
.field{ display:flex; flex-direction:column; gap:8px; }
.field__label{ font-size:14px; font-weight:900; opacity:0.80; }
.select{
    width:min(650px, 100%);
    padding:14px;
    background:rgba(0,0,0,0.02);
    border:1px solid var(--border);
    border-radius:var(--r-12);
    font-size:14px;
    font-weight:800;
}
.sliders-grid{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap:14px;
}
.slider-card{
    border-radius:var(--r-16);
    padding:12px;
    background:rgba(0,0,0,0.02);
    border:1px solid var(--border);
}
.slider-card__label{ font-size:12px; font-weight:900; margin-bottom:10px; opacity:0.75; }
.range{
    width:100%;
    height:40px;
    border-radius:var(--r-20);
    background: linear-gradient(90deg, rgba(88,197,244,0.9), rgba(41,124,201,0.9));
    -webkit-appearance:none;
    appearance:none;
    outline:none;
}
.range::-webkit-slider-thumb{
    -webkit-appearance:none;
    appearance:none;
    width:40px;
    height:40px;
    border-radius:24px;
    background: linear-gradient(180deg, rgba(255,255,255,0) 0%, #DEDFE3 100%), #F4F4F4;
    border:1px solid #fff;
    box-shadow:-2px 0 4px rgba(98,105,118,0.15);
    cursor:pointer;
}
.slider-card__meta{
    margin-top:8px;
    display:flex;
    justify-content:space-between;
    font-size:12px;
    font-weight:800;
    opacity:0.70;
}
.slider-card__value{
    margin-top:10px;
    font-size:13px;
    font-weight:800;
    opacity:0.85;
}

/* TOAST */
.toast{
    margin:0;
    font-size:13px;
    font-weight:900;
    opacity:0;
    transform: translateY(6px);
    transition: opacity 0.18s ease, transform 0.18s ease;
    color:#0b5a12;
    background: rgba(103,255,113,0.18);
    border:1px solid rgba(103,255,113,0.35);
    border-radius:9999px;
    padding:10px 12px;
    width:fit-content;
}
.toast--show{
    opacity:1;
    transform: translateY(0px);
}

/* INFO PAGES */
.info-card{
    width:min(980px, 100%);
    background:rgba(255,255,255,0.78);
    border:1px solid var(--border);
    border-radius: var(--r-16);
    box-shadow: var(--shadow-soft);
    padding:16px;
}
.qa{
    border:1px solid var(--border);
    border-radius:14px;
    padding:12px;
    background:rgba(0,0,0,0.02);
    margin-bottom:12px;
}
.qa:last-child{ margin-bottom:0; }
.qa__q{ cursor:pointer; font-weight:950; font-size:14px; }
.qa__a{
    margin-top:10px;
    font-size:14px;
    font-weight:700;
    opacity:0.85;
    line-height:1.45;
}
.qa summary::-webkit-details-marker{ display:none; }

.how{ display:flex; flex-direction:column; gap:12px; }
.how__item{
    border:1px solid var(--border);
    border-radius:14px;
    padding:12px;
    background:rgba(0,0,0,0.02);
}
.how__title{ font-weight:950; font-size:14px; margin-bottom:6px; }
.how__text{ font-size:14px; font-weight:700; opacity:0.85; line-height:1.45; }

/* MODAL */
.modal{
    width:min(720px, calc(100% - 24px));
    border:none;
    border-radius:16px;
    padding:0;
    background:#fff;
    box-shadow:0 18px 60px rgba(0,0,0,0.25);
}
.modal::backdrop{ background:rgba(0,0,0,0.45); }
.modal__header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:16px 18px;
    border-bottom:1px solid var(--border);
}
.modal__title{ font-size:16px; font-weight:950; }
.modal__close{
    border:none;
    background:transparent;
    font-size:18px;
    cursor:pointer;
    padding:6px 10px;
    border-radius:10px;
}
.modal__close:hover{ background:rgba(0,0,0,0.06); }
.modal__body{ padding:18px; }
.modal__hint{ margin:0 0 10px 0; font-size:14px; font-weight:900; }

.copybox{ display:flex; gap:10px; align-items:stretch; }
.copybox__input{
    flex:1;
    border:1px solid var(--border);
    border-radius:12px;
    padding:12px 12px;
    font-size:14px;
    background:rgba(0,0,0,0.02);
}
.modal__copied{ margin:12px 0 0 0; font-size:14px; font-weight:900; }

/* ACTIONS ROW */
.row-actions{
    display:flex;
    gap:12px;
    flex-wrap:wrap;
    justify-content:center;
    margin-top:12px;
    width:min(980px, 100%);
}
.row-actions .btn{
    width:auto;
    min-width:180px;
}

.hint{
    margin:0;
    font-size:14px;
    font-weight:800;
    text-align:center;
    opacity:0.85;
}

/* RESPONSIVE */
@media (max-width: 1024px){
    .title{ font-size:38px; }
    .metrics-grid{ grid-template-columns: repeat(2, 1fr); }
    .results-charts{ grid-template-columns: 1fr; }
    .sliders-grid{ grid-template-columns: 1fr; }
    .history-charts{ grid-template-columns:1fr; }
    .row-actions .btn{ width:100%; }
}

@media (max-width: 520px){
    .title{ font-size:30px; }
    .btn{ min-width: 100%; }
    .home-actions{ width:100%; }
    .metrics-grid{ grid-template-columns: 1fr; }
    .copybox{ flex-direction:column; }
    .score-card{ flex-direction:column; align-items:flex-start; }
    .score-card__right{ align-items:flex-start; text-align:left; }
}
